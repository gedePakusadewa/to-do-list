<!DOCTYPE html>
<html>
	<head>
		<meta charset = "UTF-8" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	</head>
	<style>
		*{
			box-sizing:border-box;
			margin:0;
			border:0;
		}

		.title{
			width:100%;
			text-align:center;
			margin-top:40px;
		}

		.formInput{
			width:100%;
			text-align:center;
			margin-top:30px; 
		}

		.mainContainer{
			margin:0 25% 0 25%;
			border:1px solid black;
		}

		.inputContainer{
			border:1px solid black;
			font-size:15px;
			height:30px;
			width:80%;
			padding-left:5px;
		}

		.buttonInput{
			width:20%;
			height:30px;
		}

		.outputContainer{
			font-size:15px;
			height:30px;
			width:80%;
			margin:5px 0 0 5px;

		}

		.flex-row{
			display:flex;
			flex-direction:row;
		}

		.innerButton{
			background-color:white;
		}

		#modal-update{
			display:none;
		}

	</style>
	<body>
		<div class = "mainContainer">
			<div>
			<h1 class = "title">To Do List</h1>
			<div class = "formInput">
				<input type = "text" class = "inputContainer" id = "input-1" 
					name = "item" value = "Name" /><button class = "buttonInput" onclick = "addItem()" >add item</button>
			</div>
			</div>
			<div id = "modal-result" class = "">
				
			</div>
			<div id = "modal-update">
				
			</div>
		</div>

	</body>
	<script>
		
		var dataTodo = { 
			do0:{
				data:"Do this now", isDone : false, code : "do0" 
			},

			do1:{
				data:"DO that tommorow", isDone : true, code : "do1"
			},

			do2:{
				data:"Not do that", isDone : false, code : "do2"
			}

		};
		
		//var dataTodo = new Array();
		var incre = 0;
		
		function addItem(){
			var dataForm = document.getElementById('input-1').value;
			dataTodo["do" + incre] = {data:dataForm, isDone:false, code : "do" + incre};
			incre++;
			console.log(dataTodo);
			displayData();
		}
		
		function displayData(){
			var tes = "";
			
			for(x in dataTodo){
				tes = tes + 
				("<div class = 'flex-row'>"
					+ "<div class = 'outputContainer'>" 
						+ (dataTodo[x]["data"])
					+ "</div>"
					+ "<div class = 'buttonInput'>"
						+"<button class = 'innerButton' onclick = 'toggleData(this.name)' name = " + dataTodo[x]["code"] + "><span id = '"+ dataTodo[x]["code"] +"'>" +isDoneIcon(dataTodo[x]['code'])+"</span>" 
						+"</button>"
						+"<button class = 'innerButton'><i class='fa fa-edit'></i></button>"
						+"<button class = 'innerButton' onclick = 'deleteData(this.name)' name = " + dataTodo[x]["code"] + " >"
							+"<i class='fa fa-close'></i>"
						+"</button>"
					+"</div>"
				+"</div>");

			}
			document.getElementById('modal-result').innerHTML = tes;
		}
		
		function isDoneIcon(idData){
			if(dataTodo[idData]['isDone'] === false){
				return "<i class='material-icons'>check_box_outline_blank</i>";
			}else{
				return "<i class='material-icons'>check_box</i>";
			}

		}

		function toggleData(idData){
			if(dataTodo[idData]['isDone'] === false){
				document.getElementById(idData).innerHTML = "<i class='material-icons'>check_box</i>";
				dataTodo[idData]['isDone'] = true;
			}else{
				document.getElementById(idData).innerHTML = "<i class='material-icons'>check_box_outline_blank</i>";
				dataTodo[idData]['isDone'] = false;
			}
		}	

		function deleteData(idData){
			console.log((idData));
			delete dataTodo[idData];
			displayData();
		}

		function displayUpdate(idData){
			lanjut fungsi update ne
		}

		displayData();
	</script>
</html>
